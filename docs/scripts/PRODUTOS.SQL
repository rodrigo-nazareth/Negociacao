/******************************************************************************/
/***               Generated by IBExpert 12/04/2020 17:12:38                ***/
/******************************************************************************/

/******************************************************************************/
/***      Following SET SQL DIALECT is just for the Database Comparer       ***/
/******************************************************************************/
SET SQL DIALECT 3;



/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/


CREATE GENERATOR GEN_PRODUTOS_ID;

CREATE TABLE PRODUTOS (
    PRODUTO_ID  INTEGER NOT NULL,
    NOME        VARCHAR(150) NOT NULL,
    PRECO       NUMERIC(12,2) NOT NULL
);




/* Check constraints definition */

ALTER TABLE PRODUTOS ADD CONSTRAINT CK_PRODUTOS_PRECO check(PRECO > 0);


/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE PRODUTOS ADD CONSTRAINT PK_PRODUTOS PRIMARY KEY (PRODUTO_ID);


/******************************************************************************/
/***                                Triggers                                ***/
/******************************************************************************/


SET TERM ^ ;



/******************************************************************************/
/***                          Triggers for tables                           ***/
/******************************************************************************/



/* Trigger: PRODUTOS_BI */
CREATE OR ALTER TRIGGER PRODUTOS_BI FOR PRODUTOS
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.produto_id is null) then
    new.produto_id = gen_id(gen_produtos_id,1);
end
^


SET TERM ; ^



/******************************************************************************/
/***                               Privileges                               ***/
/******************************************************************************/
