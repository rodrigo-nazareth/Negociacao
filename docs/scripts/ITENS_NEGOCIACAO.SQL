/******************************************************************************/
/***               Generated by IBExpert 12/04/2020 17:12:11                ***/
/******************************************************************************/

/******************************************************************************/
/***      Following SET SQL DIALECT is just for the Database Comparer       ***/
/******************************************************************************/
SET SQL DIALECT 3;



/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/



CREATE TABLE ITENS_NEGOCIACAO (
    NEGOCIACAO_ID  INTEGER NOT NULL,
    PRODUTO_ID     INTEGER NOT NULL,
    QUANTIDADE     NUMERIC(12,2) NOT NULL,
    PRECO          NUMERIC(12,2) NOT NULL,
    TOTAL          NUMERIC(12,2) NOT NULL
);




/* Check constraints definition */

ALTER TABLE ITENS_NEGOCIACAO ADD CONSTRAINT CK_ITENS_NEG_QUANTIDADE check(QUANTIDADE > 0);
ALTER TABLE ITENS_NEGOCIACAO ADD CONSTRAINT CK_ITENS_NEG_PRECO check(PRECO > 0);
ALTER TABLE ITENS_NEGOCIACAO ADD CONSTRAINT CK_ITENS_NEG_TOTAL check(TOTAL > 0);


/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE ITENS_NEGOCIACAO ADD CONSTRAINT PK_ITENS_NEGOCIACAO PRIMARY KEY (NEGOCIACAO_ID, PRODUTO_ID);


/******************************************************************************/
/***                              Foreign Keys                              ***/
/******************************************************************************/

ALTER TABLE ITENS_NEGOCIACAO ADD CONSTRAINT FK_ITENS_NEG_NEGOCIACOES FOREIGN KEY (NEGOCIACAO_ID) REFERENCES NEGOCIACOES (NEGOCIACAO_ID);
ALTER TABLE ITENS_NEGOCIACAO ADD CONSTRAINT FK_ITENS_NEG_PRODUTOS FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTOS (PRODUTO_ID);


/******************************************************************************/
/***                               Privileges                               ***/
/******************************************************************************/
